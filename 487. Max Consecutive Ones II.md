# Max Consecutive Ones II
Given a binary array nums, return the maximum number of consecutive 1's in the array if you can flip at most one 0.

 

Example 1:

Input: nums = [1,0,1,1,0]
Output: 4
Explanation: Flip the first zero will get the maximum number of consecutive 1s. After flipping, the maximum number of consecutive 1s is 4.
Example 2:

Input: nums = [1,0,1,1,0,1]
Output: 4

## 思路
与I不同这里可以包含一个0. 对于这种情况, 当第一0加入的时候不需要计算长度, 但是要记录0的位置. 其他的和I都相同

### 复杂度
time O(n) space O(1)

### 代码

```
// 遇到0结算
class Solution {
    public int findMaxConsecutiveOnes(int[] nums) {
        int ans = 0, i = 0, n = nums.length,index = 0;
        boolean hasZero = false;
        for (int j = 0; j < n; j++) {
            if (nums[j] != 1) {
                if (!hasZero) {
                    hasZero = true;
                    index = j;
                } else {
                    i = index+1;
                    index = j;
                }
            }
            ans = Math.max(ans, j-i+1);
        }
        return ans;
    }
}
// 每次结算
class Solution {
    public int findMaxConsecutiveOnes(int[] nums) {
        int ans = 0, i = 0, n = nums.length,index = 0;
        boolean hasZero = false;
        for (int j = 0; j < n; j++) {
            if (nums[j] != 1) {
                if (!hasZero) {
                    hasZero = true;
                    index = j;
                } else {
                    i = index+1;
                    index = j;
                }
            }
            ans = Math.max(ans, j-i+1);
        }
        return ans;
    }
}

```